<%@ Master Language="C#" Inherits="System.Web.Mvc.ViewMasterPage<Maverick.Web.Models.PageViewModel>" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by Free CSS Templates
http://www.freecsstemplates.org
Released for free under a Creative Commons Attribution 2.5 License

Name       : Exploitable 
Description: A two-column, fixed-width design with dark color scheme.
Version    : 1.0
Released   : 20090327

-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>
        <asp:ContentPlaceHolder ID="TitleContent" runat="server" />
    </title>
    <link href="<%= Url.Content("~/Content/Themes/Exploitable/style.css") %>" rel="stylesheet"
        type="text/css" media="screen" />
    <script src="<%= Url.Content("~/Scripts/jquery-1.3.2.min.js") %>" type="text/javascript"></script>
    <script src="<%= Url.Content("~/Scripts/MicrosoftAjax.js") %>" type="text/javascript"></script>
    <script src="<%= Url.Content("~/Scripts/MicrosoftMvcAjax.debug.js") %>" type="text/javascript"></script>
    <script src="<%=Url.Content("~/Scripts/Maverick.Main.js") %>" type="text/javascript"></script>
    <% Html.RenderModuleHeaders(Model.AllModules); %>
    <script type="text/javascript">
        $(document).ready(MaverickMain);
    </script>
</head>
<body>
    <div id="wrapper">
        <div id="header">
            <div id="logo">
                <h1>
                    MaVeriCk - Patterns-based Portaling</h1>
                <p>
                    design by <a href="http://www.freecsstemplates.org/">Free CSS Templates</a></p>
            </div>
        </div>
        <!-- end #header -->
        <div id="menu">
            <ul>
                <% if (Model != null) { %>
                <% if (Model.Page.ParentPage != null) { %>
                <li>
                    <%= Html.ActionLink(Model.Page.ParentPage.Title, "View", "Page", new { page = Model.Page.ParentPage }, null)%></li>
                <% } %>
                <% foreach (Maverick.Models.Page page in Model.Page.ChildPages) { %>
                <li>
                    <%= Html.ActionLink(page.Title, "View", "Page", new { page = page }, null)%></li>
                <% } %>
                <% } else {%>
                <li>
                    <%=Html.ActionLink("Home", "View", "Page", new { page = (Page)null }, null)%></li>
                <% } %>
            </ul>
        </div>
        <!-- end #menu -->
        <div id="page">
            <div id="page-bgtop">
                <div id="page-bgbtm">
                    <div id="content">
                        <asp:ContentPlaceHolder ID="ContentPlaceHolder" runat="server" />
                        <div style="clear: both;">
                            &nbsp;</div>
                    </div>
                    <!-- end #content -->
                    <div id="sidebar">
                        <ul>
                        <li>
                            <h2>Login</h2>
                            <% Html.RenderPartial("Login"); %>
                        </li>
                        <asp:ContentPlaceHolder ID="SidebarPlaceHolder" runat="server" />
                        </ul>
                    </div>
                    <!-- end #sidebar -->
                    <div style="clear: both;">
                        &nbsp;</div>
                </div>
            </div>
        </div>
        <!-- end #page -->
        <div id="footer">
            <p>
                Copyright (c) 2008 Andrew Nurse. All rights reserved. Design by <a href="http://www.freecsstemplates.org/">
                    Free CSS Templates</a>.</p>
        </div>
        <!-- end #footer -->
    </div>
</body>
</html>
